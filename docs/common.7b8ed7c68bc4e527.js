"use strict";(self.webpackChunkRequestForms=self.webpackChunkRequestForms||[]).push([[592],{1154:(D,F,l)=>{l.d(F,{f:()=>u});var a=l(4006),t=l(4650),c=l(6410),g=l(815),s=l(9299),v=l(6895),A=l(6709),m=l(9602),h=l(9549),w=l(4144),x=l(1948),y=l(4859),C=l(7392);function O(i,r){if(1&i&&(t.TgZ(0,"mat-radio-button",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.Option),t.xp6(1),t.hij(" ",e.Option," ")}}function b(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-checkbox",42),t.NdJ("change",function(n){const _=t.CHM(e).$implicit,p=t.oxw().index,f=t.oxw().index,M=t.oxw();return t.KtG(M.checkBoxChange(n,f,p,_.Option))}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.xp6(1),t.Oqu(e.Option)}}function T(i,r){if(1&i&&(t.TgZ(0,"mat-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.value.UploadFileValue.name)}}function I(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"span",21)(3,"mat-form-field",22),t._UZ(4,"input",23),t.qZA()(),t.TgZ(5,"span",21)(6,"mat-form-field",22),t._UZ(7,"textarea",23),t.qZA()(),t.TgZ(8,"span",21)(9,"mat-form-field",22)(10,"mat-label"),t._uU(11),t.qZA(),t.TgZ(12,"mat-date-range-input",24),t._UZ(13,"input",25)(14,"input",26),t.qZA(),t.TgZ(15,"mat-hint"),t._uU(16,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(17,"mat-datepicker-toggle",27)(18,"mat-date-range-picker",28,29),t.qZA()(),t.TgZ(20,"span",21)(21,"label",30),t._uU(22),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"mat-radio-group",31),t.YNc(25,O,2,2,"mat-radio-button",32),t.qZA()(),t.TgZ(26,"span",21)(27,"section",33)(28,"label",30),t._uU(29),t.qZA(),t._UZ(30,"br"),t.TgZ(31,"p"),t.YNc(32,b,2,1,"mat-checkbox",34),t.qZA()()(),t.TgZ(33,"span",21)(34,"mat-form-field",35),t.YNc(35,T,2,1,"mat-label",36),t._UZ(36,"input",37),t.TgZ(37,"button",38),t.NdJ("click",function(){t.CHM(e);const n=t.MAs(41);return t.KtG(n.click())}),t.TgZ(38,"mat-icon"),t._uU(39,"attach_file"),t.qZA()(),t.TgZ(40,"input",39,40),t.NdJ("change",function(n){const _=t.CHM(e).index,p=t.oxw().index,f=t.oxw();return t.KtG(f.selectFile(n,p,_))}),t.qZA()()()()()}if(2&i){const e=r.$implicit,o=r.index,n=t.MAs(19);t.xp6(1),t.Q6J("formGroupName",o),t.xp6(1),t.Q6J("hidden",1!=e.value.FieldType),t.xp6(2),t.s9C("placeholder",e.value.FieldLable),t.xp6(1),t.Q6J("hidden",2!=e.value.FieldType),t.xp6(2),t.s9C("placeholder",e.value.FieldLable),t.xp6(1),t.Q6J("hidden",3!=e.value.FieldType),t.xp6(3),t.Oqu(e.value.FieldLable),t.xp6(1),t.Q6J("rangePicker",n),t.xp6(5),t.Q6J("for",n),t.xp6(3),t.Q6J("hidden",4!=e.value.FieldType),t.xp6(2),t.Oqu(e.value.FieldLable),t.xp6(3),t.Q6J("ngForOf",e.value.Options),t.xp6(1),t.Q6J("hidden",5!=e.value.FieldType),t.xp6(3),t.Oqu(e.value.FieldLable),t.xp6(3),t.Q6J("ngForOf",e.value.Options),t.xp6(1),t.Q6J("hidden",6!=e.value.FieldType),t.xp6(2),t.Q6J("ngIf",e.value.UploadFileValue)}}function E(i,r){if(1&i&&(t.TgZ(0,"div",16)(1,"div",17),t.YNc(2,I,42,17,"div",18),t.qZA()()),2&i){const e=r.index,o=t.oxw();t.Q6J("formGroupName",e),t.xp6(2),t.Q6J("ngForOf",o.ColDataFormArray(e).controls)}}function Z(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.SubmitFormResponse())}),t._uU(1,"Submit"),t.qZA()}}function R(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.ClearForm())}),t._uU(1,"Clear"),t.qZA()}}class u{constructor(r,e,o,n,d){this._formBuilder=r,this._utility=e,this._httpService=o,this.route=n,this.nav=d,this.FormId=0}ngOnInit(){this.route.params.subscribe(r=>{this.FormId=r.formid}),0==this._utility.hasValue(this.FormId)||this.FormId<=0?this._utility.AlertWarning("No Such Form."):(this.userForm=this._formBuilder.group({FormName:[""],FormDis:[""],RowDataArray:this._formBuilder.array([])}),this._httpService.Get("Form/GetClientForm?FormId="+this.FormId).subscribe(r=>{this._data=JSON.parse(r.data.formObject),this._data.RowDataArray.forEach((e,o)=>{this.userForm.get("RowDataArray").push(this.createRowIndexFormGroup(e))}),this.userForm.controls.FormName.patchValue(this._data.FormName),this.userForm.controls.FormDis.patchValue(this._data.FormDis)},r=>{this._utility.AlertWarning(r.error.message)}),this._utility.hasValue(this._data))}createRowIndexFormGroup(r){return new a.cw({ColDataArray:this._formBuilder.array(this.createColIndexFormGroup(r))})}createColIndexFormGroup(r){const e=[];return r.ColDataArray.forEach((o,n)=>{e.push(new a.cw({FieldValueOne:new a.NI(""),FieldValueTwo:new a.NI(""),UploadFileValue:new a.NI,ArrayOfObjects:new a.NI([]),FieldType:new a.NI(o.FieldType),FieldLable:new a.NI(o.FieldLable),Required:new a.NI(o.Required),MinLength:new a.NI(o.MinLength),MaxLength:new a.NI(o.MaxLength),LowerCase:new a.NI(o.LowerCase),UpperCase:new a.NI(o.UpperCase),EmailFormat:new a.NI(o.EmailFormat),UploadFileTypeId:new a.NI(o.UploadFileTypeId),Options:new a.NI(o.Options),RowIndex:new a.NI(o.RowIndex),ColIndex:new a.NI(o.ColIndex)}))}),e}get RowDataFormArray(){return this.userForm.controls.RowDataArray}ColDataFormArray(r){return this.userForm.controls.RowDataArray.controls[r].controls.ColDataArray}checkBoxChange(r,e,o,n){const _=this.userForm.get("RowDataArray").controls[e].get("ColDataArray");r.checked?_.controls[o].value.ArrayOfObjects.push(n):_.controls[o].patchValue({ArrayOfObjects:_.controls[o].value.ArrayOfObjects.filter(p=>p!=n)})}selectFile(r,e,o){this.userForm.get("RowDataArray").controls[e].get("ColDataArray").controls[o].patchValue({UploadFileValue:r.target.files[0]})}SubmitFormResponse(){if(0==this._utility.hasValue(this._data)||this.FormId<0)return;const r=JSON.stringify(this.userForm.value);var e={};e.FormId=Number(this.FormId),e.FormObject=r,this._httpService.Post("ClientForm/ClientFormSubmit",e).subscribe(o=>{this._utility.AlertWarning("Form Submited, Check your mail box."),this.nav.navigate(["/Dashboard/FormCustomization"])},o=>{this._utility.AlertWarning(o.error.message)})}ClearForm(){const r=this.userForm.controls.RowDataArray;for(;0!==r.length;)r.removeAt(0);this._data.RowDataArray.forEach((e,o)=>{this.userForm.get("RowDataArray").push(this.createRowIndexFormGroup(e))})}Cancle(){this.nav.navigate(["/Dashboard/FormCustomization"])}}u.\u0275fac=function(r){return new(r||u)(t.Y36(a.qu),t.Y36(c.g),t.Y36(g.O),t.Y36(s.gz),t.Y36(s.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-form-view-directive"]],decls:24,vars:6,consts:[[1,"mt-5","pt-3"],[3,"formGroup"],[1,"container"],[1,"row","bg-light","p-1"],[1,"col-12","mx-auto","text-center"],[1,"col-12","fs-9","text-center"],[1,"text-dark","mx-auto","text-center","w-75"],[1,"row","mt-4"],[1,"col-xl-8","col-lg-8","col-md-10","col-10","col-10","mx-auto","text-center"],["formArrayName","RowDataArray"],["class","row mx-auto my-4",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","ms-auto","text-center"],["class","btn btn-info ms-2",3,"click",4,"ngIf"],["class","btn btn-warning ms-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"row","mx-auto","my-4",3,"formGroupName"],["formArrayName","ColDataArray",1,"row"],["class","col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 mx-auto text-center",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-12","col-xs-12","mx-auto","text-center"],[3,"formGroupName"],[3,"hidden"],["appearance","outline"],["matInput","","formControlName","FieldValueOne",3,"placeholder"],[3,"rangePicker"],["formControlName","FieldValueOne","matStartDate","","placeholder","Start date"],["formControlName","FieldValueTwo","matEndDate","","placeholder","End date"],["matIconSuffix","",3,"for"],["touchUi",""],["picker",""],["id","example-radio-group-label"],["aria-labelledby","example-radio-group-label","formControlName","FieldValueOne",1,"example-radio-group"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-section"],[3,"change",4,"ngFor","ngForOf"],[1,"columns"],[4,"ngIf"],["matInput","","readonly","","placeholder","Choose File",1,"border-bottom-1"],["mat-icon-button","","matSuffix","",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"example-radio-button",3,"value"],[3,"change"],[1,"btn","btn-info","ms-2",3,"click"],[1,"btn","btn-warning","ms-2",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4"),t._uU(7),t.qZA()(),t.TgZ(8,"div",5)(9,"i"),t._uU(10),t.qZA()(),t._UZ(11,"hr",6),t.qZA()()(),t.TgZ(12,"div")(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9),t.YNc(17,E,3,2,"div",10),t.qZA()()()(),t.TgZ(18,"div",11)(19,"div",12),t.YNc(20,Z,2,0,"button",13),t.YNc(21,R,2,0,"button",14),t.TgZ(22,"button",15),t.NdJ("click",function(){return e.Cancle()}),t._uU(23,"Cancle"),t.qZA()()()()()()),2&r&&(t.xp6(1),t.Q6J("formGroup",e.userForm),t.xp6(6),t.Oqu(e.userForm.value.FormName),t.xp6(3),t.Oqu(e.userForm.value.FormDis),t.xp6(7),t.Q6J("ngForOf",e.RowDataFormArray.controls),t.xp6(3),t.Q6J("ngIf",e._data&&e.FormId>0),t.xp6(1),t.Q6J("ngIf",e._data&&e.FormId>0))},dependencies:[v.sg,v.O5,A.oG,m.nW,m.wx,m.zY,m.By,m._g,h.KE,h.hX,h.bx,h.R9,w.Nt,x.VQ,x.U0,y.RK,C.Hw,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE]})},1073:(D,F,l)=>{l.d(F,{I:()=>c});var a=l(4650),t=l(6410);class c{constructor(s){this._utilityModule=s}isAuthenticated(){const s=localStorage.getItem("UserModel");return!!this._utilityModule.hasValue(s)}}c.\u0275fac=function(s){return new(s||c)(a.LFG(t.g))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);